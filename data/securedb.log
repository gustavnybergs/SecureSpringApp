/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
\u000a    create table app_user (\u000a        id bigint generated by default as identity (start with 1),\u000a        consent_given boolean not null,\u000a        password varchar(255),\u000a        role varchar(255),\u000a        username varchar(255),\u000a        primary key (id)\u000a    )
\u000a    create table note (\u000a        id bigint generated by default as identity (start with 1),\u000a        content varchar(255) not null,\u000a        title varchar(255) not null,\u000a        owner_id bigint,\u000a        primary key (id)\u000a    )
\u000a    create table user_resources (\u000a        id bigint generated by default as identity (start with 1),\u000a        content varchar(1000),\u000a        name varchar(255) not null,\u000a        user_id bigint not null,\u000a        primary key (id)\u000a    )
\u000a    create table user_roles (\u000a        user_id bigint not null,\u000a        role varchar(255) check (role in ('USER','ADMIN'))\u000a    )
\u000a    create table users (\u000a        id bigint generated by default as identity (start with 1),\u000a        consent_given boolean not null,\u000a        email varchar(255) not null,\u000a        full_name varchar(255),\u000a        password varchar(255) not null,\u000a        username varchar(255) not null,\u000a        primary key (id)\u000a    )
\u000a    alter table users \u000a       add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
\u000a    alter table users \u000a       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
\u000a    alter table note \u000a       add constraint FKjl54w6uv8owox1s3dqb0w4r0y \u000a       foreign key (owner_id) \u000a       references app_user
\u000a    alter table user_resources \u000a       add constraint FKph9oyb7igvr2auosyjgmanys8 \u000a       foreign key (user_id) \u000a       references users
\u000a    alter table user_roles \u000a       add constraint FKhfh9dx7w3ubf1co1vdev94g3f \u000a       foreign key (user_id) \u000a       references users
INSERT INTO USERS VALUES(1,FALSE,'gustav@example.com','Gustav Test','$2a$10$hW97SDGQrljzxqzfF9XooOpPGLhP1hHyE.xruf.JMkh5BODKfo.h6','gustav123')
INSERT INTO USER_ROLES VALUES(1,'USER')
COMMIT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C2*/DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
